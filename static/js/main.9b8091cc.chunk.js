(this["webpackJsonpto-do-list"]=this["webpackJsonpto-do-list"]||[]).push([[0],{21:function(t,e,n){t.exports=n(30)},30:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),c=n(6),i=n(2),u=n(3),l=n(13),a=n(14),s=n(18),d=n(5),p={isFetching:!1,todos:[]},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_TODO":return Object(d.a)({},t,{todos:[].concat(Object(s.a)(t.todos),[{id:e.id,value:e.content,completed:!1}])});case"REQUEST_TODOS":return Object(d.a)({},t,{isFetching:!0});case"RECEIVE_TODOS":return Object(d.a)({},t,{isFetching:!1,todos:e.todos});case"TOGGLE_TODO":return Object(d.a)({},t,{todos:t.todos.map((function(t){return t.id===e.id?Object(d.a)({},t,{completed:!t.completed}):t}))});default:return t}},O=0,h=function(){return function(t){return t({type:"REQUEST_TODOS"}),fetch("https://lit-ridge-37859.herokuapp.com/retrieve-todo").then((function(t){return console.log(t),t.json()})).then((function(e){return console.log(e),t(function(t){return{type:"RECEIVE_TODOS",todos:t}}(e))}))}},m="SHOW_ALL",E="SHOW_COMPLETED",b="SHOW_ACTIVE",T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_VISIBILITY_FILTER":return e.filter;default:return t}},v=Object(u.c)({todos:f,visibilityFilter:T}),g=Object(a.createLogger)(),j=function(t){var e=t.active,n=t.children,o=t.onClick;return r.a.createElement("button",{onClick:o,disabled:e,style:{marginLeft:"4px"}},n)},y=Object(i.b)((function(t,e){return{active:e.filter===t.visibilityFilter}}),(function(t,e){return{onClick:function(){return t({type:"SET_VISIBILITY_FILTER",filter:e.filter})}}}))(j),S=function(){return r.a.createElement("div",null,r.a.createElement("span",null,"Show: "),r.a.createElement(y,{filter:m},"All"),r.a.createElement(y,{filter:b},"Active"),r.a.createElement(y,{filter:E},"Completed"))},_=Object(i.b)()((function(t){var e,n=t.dispatch;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){var o;(t.preventDefault(),e.value.trim())&&(n((o=e.value,{type:"ADD_TODO",id:O++,content:o})),n(function(t){return function(e){return e({type:"REQUEST_POST_TODOS"}),fetch("https://lit-ridge-37859.herokuapp.com/create-todo",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({content:t,completed:!1})}).then((function(t){return console.log(t),t.json()})).then((function(t){return console.log(t),e({type:"RECEIVE_POST_TODOS"}),e(h())}))}}(e.value)),e.value="")}},r.a.createElement("input",{ref:function(t){return e=t}}),r.a.createElement("button",{type:"submit"},"Add Todo")))})),D=n(15),I=n(16),k=n(19),C=n(17),L=n(20),w=function(t){var e=t.onClick,n=t.completed,o=t.content;return r.a.createElement("li",{onClick:e,style:{textDecoration:n?"line-through":"none"}},o)},A=function(t){function e(){return Object(D.a)(this,e),Object(k.a)(this,Object(C.a)(e).apply(this,arguments))}return Object(L.a)(e,t),Object(I.a)(e,[{key:"componentDidMount",value:function(){this.props.fetchTodos()}},{key:"render",value:function(){var t=this,e=this.props,n=e.todos,o=e.toggleTodo;return r.a.createElement("ul",null,n.map((function(e){return r.a.createElement(w,Object.assign({key:e.id},e,{onClick:function(){o(e.id),t.props.updateTodo(e.id,e.completed)}}))})))}}]),e}(r.a.Component),F=function(t,e){switch(e){case m:return t;case E:return t.filter((function(t){return t.completed}));case b:return t.filter((function(t){return!t.completed}));default:throw new Error("Unknown filter: "+e)}},R=Object(i.b)((function(t){return{todos:F(t.todos.todos,t.visibilityFilter)}}),(function(t){return{fetchTodos:function(){return t(h())},toggleTodo:function(e){t(function(t){return{type:"TOGGLE_TODO",id:t}}(e))},updateTodo:function(e,n){t(function(t,e){return function(n){return fetch("https://lit-ridge-37859.herokuapp.com/update-todo",{method:"put",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({todoItemId:t,completed:!e})}).then((function(t){return console.log(t),t.json()})).then((function(t){return console.log(t),n(h())}))}}(e,n))}}}))(A),V=function(){return r.a.createElement("div",null,r.a.createElement(_,null),r.a.createElement(R,null),r.a.createElement(S,null))},G=Object(u.d)(v,Object(u.a)(l.a,g));Object(c.render)(r.a.createElement(i.a,{store:G},r.a.createElement(V,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.9b8091cc.chunk.js.map